/**
 * jQuery Quovolver 2.0.2
 * https://github.com/sebnitu/Quovolver
 *
 * By Sebastian Nitu - Copyright 2014 - All rights reserved
 * Author URL: http://sebnitu.com
 */(function($){$.fn.quovolver=function(options){"use strict";var opts=$.extend({},$.fn.quovolver.defaults,options);return this.each(function(){function gotoItem(itemNumber){if($items.is(":animated")||$this.is(":animated"))return!1;if($box.is(":hidden"))return!1;itemNumber<1?itemNumber=$total:itemNumber>$total&&(itemNumber=1);var gotoData={current:$($items[$active-1]),upcoming:$($items[itemNumber-1])};gotoData.currentHeight=getHiddenProperty(gotoData.current);gotoData.upcomingHeight=getHiddenProperty(gotoData.upcoming);gotoData.currentOuterHeight=getHiddenProperty(gotoData.current,"outerHeight");gotoData.upcomingOuterHeight=getHiddenProperty(gotoData.upcoming,"outerHeight");gotoData.currentWidth=getHiddenProperty(gotoData.current,"width");gotoData.upcomingWidth=getHiddenProperty(gotoData.upcoming,"width");gotoData.currentOuterWidth=getHiddenProperty(gotoData.current,"outerWidth");gotoData.upcomingOuterWidth=getHiddenProperty(gotoData.upcoming,"outerWidth");o.transition!=="basic"&&typeof o.transition=="string"&&eval("typeof "+o.transition)==="function"?eval(o.transition+"(gotoData)"):basic(gotoData);$active=itemNumber;updateNavNum($nav);updateNavText($nav);return!1}function buildNav(){var e;if(o.navPosition==="above"||o.navPosition==="both"){$box.prepend('<div class="quovolve-nav quovolve-nav-above"></div>');e=$box.find(".quovolve-nav")}if(o.navPosition==="below"||o.navPosition==="both"){$box.append('<div class="quovolve-nav quovolve-nav-below"></div>');e=$box.find(".quovolve-nav")}if(o.navPosition==="custom"&&o.navPositionCustom!==""&&$(o.navPositionCustom).length!==0){$(o.navPositionCustom).append('<div class="quovolve-nav quovolve-nav-custom"></div>');e=$(o.navPositionCustom).find(".quovolve-nav")}o.navPrev&&e.append('<span class="nav-prev"><a href="#">'+o.navPrevText+"</a></span>");o.navNext&&e.append('<span class="nav-next"><a href="#">'+o.navNextText+"</a></span>");if(o.navNum){e.append('<ol class="nav-numbers"></ol>');for(var t=1;t<$total+1;t++)e.find(".nav-numbers").append('<li><a href="#item-'+t+'">'+t+"</a></li>");updateNavNum(e)}if(o.navText){e.append('<span class="nav-text"></span>');updateNavText(e)}return e}function getHiddenProperty(e,t){t||(t="height");$(this).is(":hidden")&&e.show().css({position:"absolute",visibility:"hidden",display:"block"});var n=e[t]();$(this).is(":hidden")&&e.hide().css({position:"static",visibility:"visible",display:"none"});return n}function equalHeight(e){var t=0;e.height("auto");e.each(function(){var e;$(this).is(":visible")?e=$(this).height():e=getHiddenProperty($(this));e>t&&(t=e)});e.height(t)}function updateNavNum(e){if(o.navEnabled){e.find(".nav-numbers li").removeClass("active");e.find('.nav-numbers a[href="#item-'+$active+'"]').parent().addClass("active")}}function updateNavText(e){if(o.navEnabled){var t=o.navTextContent.replace("@a",$active).replace("@b",$total);e.find(".nav-text").text(t)}}function autoPlay(){$box.addClass("play");var e=setInterval(function(){gotoItem($active+1)},o.autoPlaySpeed);return e}function pauseAutoPlay(e){if(o.stopAutoPlay!==!0){$box.hover(function(){$box.addClass("pause").removeClass("play");clearInterval(e)},function(){$box.removeClass("pause").addClass("play");clearInterval(e);e=autoPlay()});return e}}function stopAutoPlay(e){$box.hover(function(){$box.addClass("stop").removeClass("play");clearInterval(e)},function(){});return e}function basic(e){$this.css("height",e.upcomingOuterHeight);e.current.hide();e.upcoming.show();o.equalHeight===!1&&$this.css("height","auto")}function fade(e){$this.height(e.currentOuterHeight);e.current.fadeOut(o.transitionSpeed,function(){$this.animate({height:e.upcomingOuterHeight},o.transitionSpeed,function(){e.upcoming.fadeIn(o.transitionSpeed,function(){$this.height("auto")})})})}var $this=$(this),o=$.meta?$.extend({},opts,$this.data()):opts;$this.addClass("quovolve").css({position:"relative"}).wrap('<div class="quovolve-box"></div>');var groupMethod;o.children?groupMethod="find":groupMethod="children";var $box=$this.parent(".quovolve-box"),$items=$this[groupMethod](o.children),$active=1,$total=$items.length;$items.hide().filter(":first").show();if(o.navPrev||o.navNext||o.navNum||o.navText){o.navEnabled=!0;var $nav=buildNav()}else o.navEnabled=!1;if(o.equalHeight){equalHeight($items);$(window).resize(function(){equalHeight($items);$this.css("height",$($items[$active-1]).outerHeight())})}if(o.autoPlay){var $playID=autoPlay();o.stopOnHover?$playID=stopAutoPlay($playID):o.pauseOnHover&&($playID=pauseAutoPlay($playID))}$(".nav-prev a").click(function(){return gotoItem($active-1)});$(".nav-next a").click(function(){return gotoItem($active+1)});$(".nav-numbers a").click(function(){return gotoItem($(this).text())});$(this).bind("goto",function(e,t){gotoItem(t)})})};$.fn.quovolver.defaults={children:"",transition:"fade",transitionSpeed:300,autoPlay:!0,autoPlaySpeed:6e3,pauseOnHover:!0,stopOnHover:!1,equalHeight:!0,navPosition:"above",navPositionCustom:"",navPrev:!1,navNext:!1,navNum:!1,navText:!1,navPrevText:"Prev",navNextText:"Next",navTextContent:"@a / @b"}})(jQuery);